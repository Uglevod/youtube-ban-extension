#!/bin/bash

# Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ñ€ÐµÐ»Ð¸Ð·Ð° Ñ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹Ð¼Ð¸ Ñ„Ð°Ð¹Ð»Ð°Ð¼Ð¸

echo "ðŸš€ Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ»Ð¸Ð·Ð° v1.0.0"
echo "========================="

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð¿Ð°Ð¿ÐºÑƒ Ð´Ð»Ñ Ñ€ÐµÐ»Ð¸Ð·Ð°
RELEASE_DIR="release-v1.0.0"
if [ -d "$RELEASE_DIR" ]; then
    rm -rf "$RELEASE_DIR"
fi

mkdir "$RELEASE_DIR"

echo "ðŸ“¦ Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹..."

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð²ÑÐµ Ð²ÐµÑ€ÑÐ¸Ð¸
./create-firefox-xpi.sh
./create-chrome-zip.sh
./create-xpi.sh

# ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ Ð² Ð¿Ð°Ð¿ÐºÑƒ Ñ€ÐµÐ»Ð¸Ð·Ð°
cp YBan-Firefox.xpi "$RELEASE_DIR/"
cp YBan-Chrome.zip "$RELEASE_DIR/"
cp YBan.xpi "$RELEASE_DIR/"

# ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ
cp README.md "$RELEASE_DIR/"
cp INSTALL.md "$RELEASE_DIR/"
cp FIREFOX_INSTALL.md "$RELEASE_DIR/"
cp FIREFOX_SIGNATURE_BYPASS.md "$RELEASE_DIR/"

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ README Ð´Ð»Ñ Ñ€ÐµÐ»Ð¸Ð·Ð°
cat > "$RELEASE_DIR/RELEASE_NOTES.md" << 'EOF'
# YouTube Ban Extension v1.0.0

## ðŸŽ‰ ÐŸÐµÑ€Ð²Ñ‹Ð¹ Ñ€ÐµÐ»Ð¸Ð·!

### Ð“Ð¾Ñ‚Ð¾Ð²Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ Ð´Ð»Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸:

- **YBan-Firefox.xpi** (21KB) - ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ Ð´Ð»Ñ Firefox
- **YBan-Chrome.zip** (21KB) - Ð’ÐµÑ€ÑÐ¸Ñ Ð´Ð»Ñ Chrome/Chromium  
- **YBan.xpi** (21KB) - Ð£Ð½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ

### âœ¨ ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸:

- **ÐšÐ¾Ð¼Ð¿Ð°ÐºÑ‚Ð½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ** - ÐºÐ½Ð¾Ð¿ÐºÐ° "Ð‘" Ñ€Ð°Ð·Ð²Ð¾Ñ€Ð°Ñ‡Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð² Ð¿Ð°Ð½ÐµÐ»ÑŒ Ð¾Ð¿Ñ†Ð¸Ð¹
- **ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð±Ð¾ÐºÐ¾Ð²Ð¾Ð¹ Ð¿Ð°Ð½ÐµÐ»Ð¸** - Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸ÑÐ¼Ð¸ YouTube
- **ÐÐ´Ð°Ð¿Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð´Ð¸Ð·Ð°Ð¹Ð½** - Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²
- **Ð¢ÐµÐ¼Ð½Ð°Ñ Ñ‚ÐµÐ¼Ð°** - ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ð¾ÑÑ‚ÑŒ Ñ Ñ‚ÐµÐ¼Ð½Ð¾Ð¹ Ñ‚ÐµÐ¼Ð¾Ð¹ YouTube

### ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ð°Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°:

#### Firefox:
1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ `about:config`
2. ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ `xpinstall.signatures.required`
3. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ `false`
4. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ `YBan-Firefox.xpi`

#### Chrome:
1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ `chrome://extensions/`
2. Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ "Ð ÐµÐ¶Ð¸Ð¼ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ°"
3. Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ `YBan-Chrome.zip`

### ðŸ“š Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ:

- **README.md** - Ð¿Ð¾Ð»Ð½Ð¾Ðµ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾
- **INSTALL.md** - Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ð¿Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐµ
- **FIREFOX_INSTALL.md** - ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ Firefox
- **FIREFOX_SIGNATURE_BYPASS.md** - Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ñ Ð¿Ð¾Ð´Ð¿Ð¸ÑÑŒÑŽ

### ðŸ”§ Ð”Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¾Ð²:

Ð’ÑÐµ ÑÐºÑ€Ð¸Ð¿Ñ‚Ñ‹ ÑÐ±Ð¾Ñ€ÐºÐ¸ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹ Ð² Ð¸ÑÑ…Ð¾Ð´Ð½Ñ‹Ð¹ ÐºÐ¾Ð´:
- `create-firefox-xpi.sh` - ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Firefox Ð²ÐµÑ€ÑÐ¸Ð¸
- `create-chrome-zip.sh` - ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Chrome Ð²ÐµÑ€ÑÐ¸Ð¸
- `create-xpi.sh` - ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð²ÐµÑ€ÑÐ¸Ð¸

---

**ÐŸÑ€Ð¸ÑÑ‚Ð½Ð¾Ð³Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ! ðŸŽŠ**
EOF

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ ZIP Ð°Ñ€Ñ…Ð¸Ð² Ñ€ÐµÐ»Ð¸Ð·Ð°
echo "ðŸ“¦ Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð°Ñ€Ñ…Ð¸Ð² Ñ€ÐµÐ»Ð¸Ð·Ð°..."
cd "$RELEASE_DIR"
zip -r ../YouTube-Ban-Extension-v1.0.0.zip . -x "*.DS_Store"
cd ..

echo "âœ… Ð ÐµÐ»Ð¸Ð· ÑÐ¾Ð·Ð´Ð°Ð½!"
echo "ðŸ“ ÐŸÐ°Ð¿ÐºÐ°: $RELEASE_DIR"
echo "ðŸ“¦ ÐÑ€Ñ…Ð¸Ð²: YouTube-Ban-Extension-v1.0.0.zip"
echo ""
echo "ðŸ“‹ Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ Ñ€ÐµÐ»Ð¸Ð·Ð°:"
ls -la "$RELEASE_DIR/"

echo ""
echo "ðŸŒ Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ Ñ€ÐµÐ»Ð¸Ð· Ð½Ð° GitHub:"
echo "1. ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð½Ð° https://github.com/Uglevod/youtube-ban-extension/releases"
echo "2. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ 'Create a new release'"
echo "3. Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ‚ÐµÐ³ v1.0.0"
echo "4. Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ Ð¸Ð· Ð¿Ð°Ð¿ÐºÐ¸ $RELEASE_DIR"
echo "5. Ð˜Ð»Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ Ð°Ñ€Ñ…Ð¸Ð² YouTube-Ban-Extension-v1.0.0.zip"
